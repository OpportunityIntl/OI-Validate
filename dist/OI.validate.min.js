/* OI-Validate v0.9.0 
 * Copyright (c) 2015 Opportunity International 
 */
var Validate=function(a){function b(){i.form.find('input[type!="radio"][required], select[required], textarea[required]').each(function(){i.fields=i.fields.add($(this)),d($(this))});i.form.find('input[type="radio"][required]').each(function(){})}function c(a,b){var c=e(a)||{};$.extend(c,b),a.data("oi-validate",c)}function d(a){var b={valid:!0,validations:[],element:a};a.is("[required]")&&b.validations.push({validation:function(){return""!==$(this).val()},message:"Required field"}),a.is("select")&&(b.element=a.parents(".select")),c($(a),b)}function e(a){var b=a.data("oi-validate");return b?b:!1}function f(a,b){var c=$("<div>",{"class":"error-message"});c.html(b),a.after(c),a.addClass("error")}function g(a){var b=a.siblings(".error-message");a.removeClass("error"),b.remove()}function h(){i.form.attr("novalidate","novalidate"),i.form.submit(function(){return i.validate()?console.log("Success"):(i.validateOnBlur(!0),console.log("Failure")),!1}),b()}var i=this;this.form=$(a),this.hasErrors=!1,this.fields=$(),this.validateOnBlur=function(a){a?i.fields.on("blur.validate change.validate",function(){i.validateField($(this))}):i.fields.off("blur.validate change.validate")},this.validateField=function(a){var b=e(a),d=!0;return b&&$.each(b.validations,function(e,h){return h.validation.call(a)?(g(b.element),c(a,{valid:!0}),d=!0):(b.valid&&(f(b.element,h.message),c(a,{valid:!1})),d=!1),d}),d},this.validate=function(){var a=0;return i.fields.each(function(){i.validateField($(this))||a++}),a>0?!1:!0},h()};