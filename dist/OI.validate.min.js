/* OI-Validate v0.9.0 
 * Copyright (c) 2015 Opportunity International 
 */
var Validate=function(a){function b(a,b){var c=d(a)||{};$.extend(c,b),a.data("oi-validate",c)}function c(){$("[required]").each(function(){b($(this),{valid:!0,validations:[{validation:function(){return""!==$(this).val()},message:"Required field"}]})})}function d(a){var b=a.data("oi-validate");return b?b:!1}function e(a,b){var c=$("<div>",{"class":"error-message"});c.html(b),a.after(c),a.addClass("error")}function f(a){var b=a.siblings(".error-message");a.removeClass("error"),b.remove()}function g(){h.form.attr("novalidate","novalidate"),h.form.submit(function(){return h.validate(),!1})}var h=this;this.form=$(a),this.hasErrors=!1,this.errors=[],this.fields=this.form.find('input[type="text"], input[type="radio"], input[type="checkbox"], input[type="email"], input[type="phone"], input[type="number"], select, textarea'),this.validateField=function(a){var c=d(a);c&&$.each(c.validations,function(d,g){g.validation.call(a)?(f(a),b(a,{valid:!0})):c.valid&&(a.is("select")?e(a.parents(".select"),g.message):e(a,g.message),b(a,{valid:!1}))})},this.validate=function(){h.fields.each(function(){h.validateField($(this))})},this.fields.on("blur",function(){h.validateField($(this))}),g(),c()};