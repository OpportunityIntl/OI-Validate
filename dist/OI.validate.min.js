/* OI-Validate v0.9.0 
 * Copyright (c) 2015 Opportunity International 
 */
var Validate=function(a){function b(a,b){var c=d(a)||{};$.extend(c,b),a.data("oi-validate",c)}function c(a){var c={valid:!0,validations:[],element:a};a.is("[required]")&&c.validations.push({validation:function(){return""!==$(this).val()},message:"Required field"}),a.is("select")&&(c.element=a.parents(".select")),b($(a),c)}function d(a){var b=a.data("oi-validate");return b?b:!1}function e(a,b){var c=$("<div>",{"class":"error-message"});c.html(b),a.after(c),a.addClass("error")}function f(a){var b=a.siblings(".error-message");a.removeClass("error"),b.remove()}function g(){h.form.attr("novalidate","novalidate"),h.form.submit(function(){return h.validate()?console.log("Success"):(h.validateOnBlur(!0),console.log("Failure")),!1}),h.fields.each(function(){c($(this))})}var h=this;this.form=$(a),this.hasErrors=!1,this.fields=this.form.find('input[type="text"], input[type="radio"], input[type="checkbox"], input[type="email"], input[type="phone"], input[type="number"], select, textarea'),this.validateOnBlur=function(a){a?h.fields.on("blur.validate change.validate",function(){h.validateField($(this))}):h.fields.off("blur.validate change.validate")},this.validateField=function(a){var c=d(a),g=!0;return c&&$.each(c.validations,function(d,h){return h.validation.call(a)?(f(c.element),b(a,{valid:!0}),g=!0):(c.valid&&(e(c.element,h.message),b(a,{valid:!1})),g=!1),g}),g},this.validate=function(){var a=0;return h.fields.each(function(){h.validateField($(this))||a++}),a>0?!1:!0},g()};